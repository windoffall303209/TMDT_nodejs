<%- include('../partials/admin-header', { currentPage: 'banners' }) %>

<div class="admin-page">
    <div class="container">
        <h1 class="admin-page__title">üñºÔ∏è Qu·∫£n L√Ω Banners</h1>
        
        <!-- Add Banner Form -->
        <div class="admin-section">
            <h3 class="admin-section__title">‚ûï Th√™m Banner M·ªõi</h3>
            <form action="/admin/banners" method="POST" enctype="multipart/form-data">
                <div class="admin-form__grid">
                    <div>
                        <label class="admin-form__label">Ti√™u ƒë·ªÅ</label>
                        <input type="text" name="title" required class="admin-form__input">
                    </div>
                    <div>
                        <label class="admin-form__label">Ph·ª• ƒë·ªÅ</label>
                        <input type="text" name="subtitle" class="admin-form__input">
                    </div>
                    <div>
                        <label class="admin-form__label">Link URL</label>
                        <input type="text" name="link_url" class="admin-form__input">
                    </div>
                    <div>
                        <label class="admin-form__label">H√¨nh ·∫£nh</label>
                        <input type="file" name="image" accept="image/*" class="admin-form__input">
                    </div>
                </div>
                <button type="submit" class="admin-form__submit">Th√™m Banner</button>
            </form>
        </div>
        
        <% if (banners && banners.length > 0) { %>
            <div class="stats-grid" style="grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));">
                <% banners.forEach(banner => { %>
                    <div class="admin-section" style="margin-bottom: 0; padding: 0; overflow: hidden;">
                        <% if (banner.image_url) { %>
                            <div style="height: 150px; overflow: hidden;">
                                <img src="<%= banner.image_url %>" alt="<%= banner.title %>" style="width: 100%; height: 100%; object-fit: cover;">
                            </div>
                        <% } else { %>
                            <div style="height: 150px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); display: flex; align-items: center; justify-content: center; color: white; font-size: 48px;">
                                üñºÔ∏è
                            </div>
                        <% } %>
                        <div style="padding: 20px;">
                            <h4 style="margin: 0 0 10px 0;"><%= banner.title %></h4>
                            <p style="margin: 0 0 15px 0; color: #666; font-size: 14px;"><%= banner.subtitle || 'Kh√¥ng c√≥ ph·ª• ƒë·ªÅ' %></p>
                            <button onclick="deleteBanner(<%= banner.id %>)" class="admin-btn admin-btn--delete">üóëÔ∏è X√≥a Banner</button>
                        </div>
                    </div>
                <% }) %>
            </div>
        <% } else { %>
            <div class="admin-empty">
                <span class="admin-empty__icon">üñºÔ∏è</span>
                <h3 class="admin-empty__title">Ch∆∞a c√≥ banner n√†o</h3>
            </div>
        <% } %>
    </div>
</div>

<!-- Toast Container -->
<div id="toastContainer"></div>

<!-- Confirm Modal -->
<div id="confirmModal">
    <div class="confirm-modal__content">
        <div style="font-size: 48px; margin-bottom: 15px;">‚ö†Ô∏è</div>
        <h3 id="confirmTitle" class="confirm-modal__title">X√°c nh·∫≠n</h3>
        <p id="confirmMessage" class="confirm-modal__message">B·∫°n c√≥ ch·∫Øc mu·ªën th·ª±c hi·ªán?</p>
        <div class="confirm-modal__buttons">
            <button id="confirmYes" class="confirm-modal__btn confirm-modal__btn--yes">X√°c nh·∫≠n</button>
            <button id="confirmNo" class="confirm-modal__btn confirm-modal__btn--no">H·ªßy</button>
        </div>
    </div>
</div>

<script src="/js/admin/banners.js"></script>

<%- include('../partials/admin-footer') %>
