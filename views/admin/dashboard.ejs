<%- include('../partials/admin-header', { currentPage: 'dashboard' }) %>

<div class="admin-page">
    <div class="container">
        <h1 class="admin-page__title">üìä Admin Dashboard</h1>
        
        <% if (stats) { %>
            <div class="stats-grid">
                <div class="stat-card stat-card--purple">
                    <h3 class="stat-card__label">T·ªïng Doanh Thu</h3>
                    <p class="stat-card__value"><%= (stats.total_revenue || 0).toLocaleString('vi-VN') %>ƒë</p>
                </div>
                
                <div class="stat-card stat-card--pink">
                    <h3 class="stat-card__label">Doanh Thu H√¥m Nay</h3>
                    <p class="stat-card__value"><%= (stats.today_revenue || 0).toLocaleString('vi-VN') %>ƒë</p>
                </div>
                
                <div class="stat-card stat-card--blue">
                    <h3 class="stat-card__label">T·ªïng ƒê∆°n H√†ng</h3>
                    <p class="stat-card__value"><%= stats.total_orders || 0 %></p>
                </div>
                
                <div class="stat-card stat-card--green">
                    <h3 class="stat-card__label">ƒê∆°n Ch·ªù X·ª≠ L√Ω</h3>
                    <p class="stat-card__value"><%= stats.pending_orders || 0 %></p>
                </div>
            </div>
        <% } %>
        
        <% if (recentOrders && recentOrders.length > 0) { %>
            <div class="admin-section">
                <h2 class="admin-section__title">üõí ƒê∆°n H√†ng G·∫ßn ƒê√¢y</h2>
                <div class="admin-table-wrapper">
                    <table class="admin-table">
                        <thead>
                            <tr>
                                <th>M√£ ƒê∆°n</th>
                                <th>Kh√°ch H√†ng</th>
                                <th class="text-right">T·ªïng Ti·ªÅn</th>
                                <th class="text-center">Tr·∫°ng Th√°i</th>
                                <th class="text-center">Ng√†y</th>
                            </tr>
                        </thead>
                        <tbody>
                            <% recentOrders.forEach(order => { %>
                                <tr>
                                    <td><a href="/admin/orders/<%= order.id %>" class="admin-table__link"><%= order.order_code %></a></td>
                                    <td><%= order.user_name || 'N/A' %></td>
                                    <td class="text-right admin-table__price"><%= (order.final_amount || 0).toLocaleString('vi-VN') %>ƒë</td>
                                    <td class="text-center">
                                        <span class="admin-table__badge"><%= order.status %></span>
                                    </td>
                                    <td class="text-center" style="color: #666;"><%= new Date(order.created_at).toLocaleDateString('vi-VN') %></td>
                                </tr>
                            <% }) %>
                        </tbody>
                    </table>
                </div>
            </div>
        <% } else { %>
            <div class="admin-empty">
                <span class="admin-empty__icon">üì≠</span>
                <h3 class="admin-empty__title">Ch∆∞a c√≥ ƒë∆°n h√†ng n√†o</h3>
                <p class="admin-empty__text">H·ªá th·ªëng ƒëang ho·∫°t ƒë·ªông b√¨nh th∆∞·ªùng. ƒê∆°n h√†ng m·ªõi s·∫Ω xu·∫•t hi·ªán t·∫°i ƒë√¢y.</p>
            </div>
        <% } %>
    </div>
</div>

<%- include('../partials/admin-footer') %>
